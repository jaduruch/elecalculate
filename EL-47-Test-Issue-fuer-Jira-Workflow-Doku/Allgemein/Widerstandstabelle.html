<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allgemein | Widerstandstabelle</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="icon" type="image/png" href="../Pictures/favicon.png">
    <style>
        .dropdown-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
        }
        .dropdown-container div {
            margin-bottom: 10px;
        }
        .dropdown-menus {
            display: flex;
            justify-content: space-around;
            width: 100%;
        }
        .dropdown {
            position: relative;
            display: inline-block;
        }
        .dropdown-select {
            background-color: white;
            color: black;
            border: 1px solid #ccc;
            padding: 5px;
            cursor: pointer;
            border-radius: 4px;
        }
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: white;
            color: black;
            border: 1px solid #ccc;
            z-index: 1;
            width: 120px;
            border-radius: 4px;
        }
        .dropdown-content div {
            padding: 5px;
            cursor: pointer;
        }
        .dropdown-content div:hover {
            filter: brightness(0.75);
        }
        .dropdown-content div.selected {
            background-color: lightgray;
        }
        .color-box {
            display: inline-block;
            width: 20px;
            height: 20px;
            vertical-align: middle;
            margin-right: 10px;
            border-radius: 4px;
            /*border-width: 2px;
            border-color:rgb(0, 37, 202);*/
        }
        #result {
            margin-top: 20px;
            text-align: center;
        }

        th, td {
        border: 1px solid black;
        padding: 8px;
        text-align: left;
        }
        
        td {
        min-width: 80px; /* Replace 'value' with the desired minimum width */
        }

    </style>
</head>
<body>
    <header>
        <div class="burger-menu" onclick="toggleMenu()">
            <div class="bar1"></div>
            <div class="bar2"></div>
            <div class="bar3"></div>
        </div>
        <div class="scroll-container">
            <ul class="main-menu">
                <li><a href="../index.html">Home</a></li>
                <li><a href="E-Reihe.html">E-Reihe</a></li>
                <li><a href="Mathe.html">Mathe</a></li>
                <li><a class="active" href="#Widerstandstabelle">Widerstandstabelle</a></li>
                <li><a href="Glossar.html">Glossar</a></li>
                <li><a href="Massvorsaetze.html">Massvors&auml;tze</a></li>
                <li><a href="Werkstoffe.html">Werkstoffe</a></li>
            </ul>
        </div>
        <nav class="dropdown-menu">
            <ul>
                <li><a href="#Allgemein">Allgemein</a></li>
                <li><a href="../Elektrotechnik/elektrotechnik.html">Elektrotechnik</a></li>
                <li><a href="../Elektronik/elektronik.html">Elektronik</a></li>
                <li><a href="../HST/hst.html">HST</a></li>
            </ul>
        </nav>
    </header>
    <div class="wrapper">
        <main>
            <div>
                <h1><br>Widerstandstabelle</h1>
            </div>
            <!-- Tabelle ---------------------------------------->
            <table style="max-width: 150px;">
                <tr>
                    <th>Farbe</th>
                    <th>Band 1</th>
                    <th>Band 2</th>
                    <th>Band 3</th>
                    <th>Multiplikator</th>
                    <th>Toleranz</th>
                </tr>
                <tr style="background-color:black; color: white;">
                    <td>Schwarz</td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                    <td>*1&Omega;</td>
                    <td></td>
                </tr>
                <tr style="background-color:rgb(139, 72, 32); color: white;">
                    <td>Braun</td>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                    <td>*10&Omega;</td>
                    <td>&plusmn;1%</td>
                </tr>
                <tr style="background-color:red; color: white;">
                    <td>Rot</td>
                    <td>2</td>
                    <td>2</td>
                    <td>2</td>
                    <td>*100&Omega;</td>
                    <td>&plusmn;2%</td>
                </tr>
                <tr style="background-color:rgb(255, 145, 0); color: black;">
                    <td>Orange</td>
                    <td>3</td>
                    <td>3</td>
                    <td>3</td>
                    <td>*1k&Omega;</td>
                    <td></td>
                </tr>
                <tr style="background-color:rgb(255, 238, 0); color: black;">
                    <td>Gelb</td>
                    <td>4</td>
                    <td>4</td>
                    <td>4</td>
                    <td>*10k&Omega;</td>
                    <td></td>
                </tr>
                <tr style="background-color:rgb(0, 182, 0); color: rgb(0, 0, 0);">
                    <td>Grün</td>
                    <td>5</td>
                    <td>5</td>
                    <td>5</td>
                    <td>*100k&Omega;</td>
                    <td>&plusmn;0.5%</td>
                </tr>
                <tr style="background-color:rgb(0, 37, 202); color: white;">
                    <td>Blau</td>
                    <td>6</td>
                    <td>6</td>
                    <td>6</td>
                    <td>*1M&Omega;</td>
                    <td>&plusmn;0.25%</td>
                </tr>
                <tr style="background-color:rgb(144, 0, 201); color: white;">
                    <td>Violett</td>
                    <td>7</td>
                    <td>7</td>
                    <td>7</td>
                    <td>*10M&Omega;</td>
                    <td>&plusmn;0.1%</td>
                </tr>
                <tr style="background-color:gray; color: white;">
                    <td>Grau</td>
                    <td>8</td>
                    <td>8</td>
                    <td>8</td>
                    <td>*100M&Omega;</td>
                    <td>&plusmn;0.05%</td>
                </tr>
                <tr style="background-color:white; color: black;">
                    <td>Weiß</td>
                    <td>9</td>
                    <td>9</td>
                    <td>9</td>
                    <td>*1G&Omega;</td>
                    <td></td>
                </tr>
                <tr style="background-color:#b68a22; color: white;">
                    <td>Gold</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td>*0.1&Omega;</td>
                    <td>&plusmn;5%</td>
                </tr>
                <tr style="background-color:rgb(207, 207, 207); color: black;">
                    <td>Silber</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td>*0.01&Omega;</td>
                    <td>&plusmn;10%</td>
                </tr>
            </table>
            <!------------------------------------------------->
            <br>
                <div class="dropdown">
                    <div id="band1Select" class="dropdown-select">
                        <span class="color-box" style="background-color: black;"></span>
                        Band 1
                    </div>
                    <div id="band1Dropdown" class="dropdown-content">
                        <div data-value="0" style="background-color: black; color: white;">Schwarz</div>
                        <div data-value="1" style="background-color: brown; color: white;">Braun</div>
                        <div data-value="2" style="background-color: red; color: white;">Rot</div>
                        <div data-value="3" style="background-color: orange; color: black;">Orange</div>
                        <div data-value="4" style="background-color: yellow; color: black;">Gelb</div>
                        <div data-value="5" style="background-color: green; color: white;">Gr&uuml;n</div>
                        <div data-value="6" style="background-color: blue; color: white;">Blau</div>
                        <div data-value="7" style="background-color: purple; color: white;">Violett</div>
                        <div data-value="8" style="background-color: gray; color: white;">Grau</div>
                        <div data-value="9" style="background-color: white; color: black;">Weiss</div>
                    </div>
                </div>
                <div class="dropdown">
                    <div id="band2Select" class="dropdown-select">
                        <span class="color-box" style="background-color: rgb(0, 0, 0);"></span>
                        Band 2
                    </div>
                    <div id="band2Dropdown" class="dropdown-content">
                        <div data-value="0" style="background-color: black; color: white;">Schwarz</div>
                        <div data-value="1" style="background-color: brown; color: white;">Braun</div>
                        <div data-value="2" style="background-color: red; color: white;">Rot</div>
                        <div data-value="3" style="background-color: orange; color: black;">Orange</div>
                        <div data-value="4" style="background-color: yellow; color: black;">Gelb</div>
                        <div data-value="5" style="background-color: green; color: white;">Gr&uuml;n</div>
                        <div data-value="6" style="background-color: blue; color: white;">Blau</div>
                        <div data-value="7" style="background-color: purple; color: white;">Violett</div>
                        <div data-value="8" style="background-color: gray; color: white;">Grau</div>
                        <div data-value="9" style="background-color: white; color: black;">Weiss</div>
                    </div>
                </div>
                <div class="dropdown">
                    <div id="band3Select" class="dropdown-select">
                        <span class="color-box" style="background-color: black;"></span>
                        Band 3
                    </div>
                    <div id="band3Dropdown" class="dropdown-content">
                        <div data-value="-1" class="no-selection">keine</div>
                        <div data-value="0" style="background-color: black; color: white;">Schwarz</div>
                        <div data-value="1" style="background-color: brown; color: white;">Braun</div>
                        <div data-value="2" style="background-color: red; color: white;">Rot</div>
                        <div data-value="3" style="background-color: orange; color: black;">Orange</div>
                        <div data-value="4" style="background-color: yellow; color: black;">Gelb</div>
                        <div data-value="5" style="background-color: green; color: white;">Gr&uuml;n</div>
                        <div data-value="6" style="background-color: blue; color: white;">Blau</div>
                        <div data-value="7" style="background-color: purple; color: white;">Violett</div>
                        <div data-value="8" style="background-color: gray; color: white;">Grau</div>
                        <div data-value="9" style="background-color: white; color: black;">Weiss</div>
                    </div>
                </div>
                <div class="dropdown">
                    <div id="multiplierSelect" class="dropdown-select">
                        Multiplikator
                    </div>
                    <div id="multiplierDropdown" class="dropdown-content">
                        <div data-value="1" style="background-color: black; color: white;">*1&Omega;</div>
                        <div data-value="10" style="background-color: brown; color: white;">*10&Omega;</div>
                        <div data-value="100" style="background-color: red; color: white;">*100&Omega;</div>
                        <div data-value="1000" style="background-color: orange; color: black;">*1k&Omega;</div>
                        <div data-value="10000" style="background-color: yellow; color: black;">*10k&Omega;</div>
                        <div data-value="100000" style="background-color: green; color: white;">*100k&Omega;</div>
                        <div data-value="1000000" style="background-color: blue; color: white;">*1M&Omega;</div>
                        <div data-value="10000000" style="background-color: purple; color: white;">*10M&Omega;</div>
                        <div data-value="100000000" style="background-color: gray; color: white;">*100M&Omega;</div>
                        <div data-value="1000000000" style="background-color: white; color: black;">*1G&Omega;</div>
                    </div>
                </div>
                <div class="dropdown">
                    <div id="toleranceSelect" class="dropdown-select">
                        Toleranz
                    </div>
                    <div id="toleranceDropdown" class="dropdown-content">
                        <div data-value="0.01">&plusmn;1%</div>
                        <div data-value="0.02">&plusmn;2%</div>
                        <div data-value="0.05">&plusmn;5%</div>
                        <div data-value="0.1">&plusmn;10%</div>
                        <div data-value="0.2">&plusmn;20%</div>
                    </div>
                </div>
            
            <input type="hidden" id="band1" value="0">
            <input type="hidden" id="band2" value="0">
            <input type="hidden" id="band3" value="-1"> <!--none-->
            <input type="hidden" id="multiplier" value="1">
            <input type="hidden" id="tolerance" value="0">

            <div id="result">
                <p id="resistanceValue">Widerstand: 0&Omega;</p>
                <p id="toleranceValue">Toleranz: &plusmn;0%</p>
            </div>
        </main>

        <footer>
            &copy 2025 Elecalculate
        </footer>
    </div>
    <script src="../scripts.js"></script>
    <script>
        // Funktion zum Umschalten eines Dropdowns
        function toggleDropdown(id) {
            const allDropdowns = document.querySelectorAll('.dropdown-content');
            
            // Alle Dropdowns schliessen, ausser das aktuelle
            allDropdowns.forEach(dropdown => {
                if (dropdown.id !== id) {
                    dropdown.style.display = 'none';
                }
            });
            
            // Den aktuellen Dropdown ein- oder ausblenden
            const currentDropdown = document.getElementById(id);
            currentDropdown.style.display = currentDropdown.style.display === 'block' ? 'none' : 'block';
        }

        // Event-Listener für die Dropdown-Selects
        document.querySelectorAll('.dropdown-select').forEach(selectBox => {
            selectBox.addEventListener('click', function(event) {
                // Verhindert, dass der Klick-Ereignis weitergegeben wird
                event.stopPropagation();
                
                const dropdownId = this.nextElementSibling.id;
                toggleDropdown(dropdownId);
            });
        });

        // Event-Listener für die Auswahl eines Dropdown-Elements
        document.querySelectorAll('.dropdown-content div').forEach(item => {
            item.addEventListener('click', function(event) {
                // Verhindert, dass der Klick-Ereignis weitergegeben wird
                event.stopPropagation();
                
                const value = this.getAttribute('data-value');
                const colorBox = this.parentElement.previousElementSibling.querySelector('.color-box');

                if (this.parentElement.id === 'band1Dropdown') {
                    document.getElementById('band1').value = value;
                    //colorBox.style.backgroundColor = this.style.backgroundColor;
                    document.getElementById('band1Select').innerText = this.innerText;
                } else if (this.parentElement.id === 'band2Dropdown') {
                    document.getElementById('band2').value = value;
                    //colorBox.style.backgroundColor = this.style.backgroundColor;
                    document.getElementById('band2Select').innerText = this.innerText;
                } else if (this.parentElement.id === 'band3Dropdown') {
                    document.getElementById('band3').value = value;
                    //colorBox.style.backgroundColor = this.style.backgroundColor;
                    document.getElementById('band3Select').innerText = this.innerText;
                } else if (this.parentElement.id === 'multiplierDropdown') {
                    document.getElementById('multiplier').value = value;
                    document.getElementById('multiplierSelect').innerText = `Multiplikator: ${this.innerText}`;
                } else if (this.parentElement.id === 'toleranceDropdown') {
                    document.getElementById('tolerance').value = value;
                    document.getElementById('toleranceSelect').innerText = `Toleranz: ±${parseFloat(value) * 100}%`;
                }

                calculateResistance();
                // Dropdown schließen
                this.parentElement.style.display = 'none';
            });
        });

        // Funktion zur Widerstandsberechnung
        function calculateResistance() {
            const band1 = parseInt(document.getElementById('band1').value, 10);
            const band2 = parseInt(document.getElementById('band2').value, 10);
            const band3 = parseInt(document.getElementById('band3').value, 10);
            const multiplier = parseInt(document.getElementById('multiplier').value, 10);
            const tolerance = parseFloat(document.getElementById('tolerance').value);

            if (!isNaN(band1) && !isNaN(band2)) {
                //let resistance = (band1 * 10 + band2) * Math.pow(10, band3 === 'none' ? 0 : band3);
                /*if(isNaN(band3))
                {
                    let resistance = band1 * 10 + band2;
                }
                else
                {
                    let resistance = band1 * 100 + band2 * 10 + band3;
                }*/
                // debugger;
                let resistance = ((band3 === -1 || isNaN(band3)) ? (band1 * 10 + band2) : (band1 * 100 + band2 * 10 + band3));
                resistance *= multiplier;

                const tolerancePercent = tolerance * 100;
                document.getElementById('resistanceValue').innerText = `Widerstand: ${resistance}Ω`;
                document.getElementById('toleranceValue').innerText = `Toleranz: ±${tolerancePercent}%`;
            }
        }

        // Klick ausserhalb der Dropdowns schliessen die Dropdowns
        document.addEventListener('click', function() {
            document.querySelectorAll('.dropdown-content').forEach(dropdown => {
                dropdown.style.display = 'none';
            });
        });

        // Verhindert, dass Klicks innerhalb der Dropdowns das Schliessen ausloesen
        document.querySelectorAll('.dropdown-content').forEach(dropdown => {
            dropdown.addEventListener('click', function(event) {
                event.stopPropagation();
            });
        });

        // Initialisierung der Dropdowns
        function initializeDropdowns() {
            const dropdowns = ['band1Dropdown', 'band2Dropdown', 'band3Dropdown', 'multiplierDropdown', 'toleranceDropdown'];
            dropdowns.forEach(id => {
                const dropdown = document.getElementById(id);
                dropdown.style.display = 'none';
            });
        }
        initializeDropdowns();
    </script>
    
    
</body>
</html>
