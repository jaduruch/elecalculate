<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elektrotechnik | Filter</title>
    <link rel="stylesheet" href="../style.css">
    
    <meta name="description" content="Online Rechner f&uuml;r Passivfilter 1. Ornung, Hoch- und Tiefpassfilter mit RC oder RL. Berechne die Ausgangsspannung oder das D&auml;mpfungsmass bei einer bestimmten Frequnez.">
    <meta name="keywords" content="Filter, Passivfilter, 1. Ordnung, Kondensator, Spule, Induktiviaet, RC, RL, dB, Grenzfrequenz, Hochpass, Tiefpass, Online Rechner, Blindwiderstand">
    <link rel="icon" type="image/png" href="../Pictures/favicon.png">
    <style>

        .filter-button {
            position: relative;
            width: 150px; 
            height: 100px; 
            border: 2px solid transparent; /* Initially transparent */
            padding: 0;
            margin: 10px;
            background-color: transparent;
            cursor: pointer;
        }
        
        .filter-button img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
 
        .filter-button:hover {
            border-color: gray; /* Gray border for hovered button */
        }
        
        .filter-button.selected {
            border-color: white; /* White border for selected button */
        }     
        
        .filter-button span {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            text-align: center;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            font-size: 14px;
            padding: 2px 0;
        }
        
        input {
            border: 2px solid;
            border-radius: 3px;
        }


        /* Stil fuer das Formular und Layout */
        .input-numbers {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            margin-bottom: 20px;
            max-width: 800px; /* Setzt eine maximale Breite */
            margin: 0 auto; /* Zentriert das Formular */
            /*margin-left: 10px;*/
        }


        h3 {
            margin-top: 20px;
        }

        .results{
            line-height: 2; /* Multiplikator fuer die Schriftgroesse */
        }

        img{
            width: 80%;
            max-width: 600px;
        }
    </style>
</head>
<body>
    <header>
        <div class="burger-menu" onclick="toggleMenu()">
            <div class="bar1"></div>
            <div class="bar2"></div>
            <div class="bar3"></div>
        </div>
        <div class="scroll-container">
            <ul class="main-menu">
                <li><a href="elektrotechnik.html">Elektrotechnik</a></li>
                <li><a href="Gleichstrom.html">Gleichstrom</a></li>
                <li><a href="Wechselstrom.html">Wechselstrom</a></li>
                <li><a href="Transformator.html">Transformator</a></li>
                <li><a href="Magnetismus.html">Magnetismus</a></li>
                <li><a href="Kondensator.html">Kondensator</a></li>
                <li><a href="Spule.html">Spule</a></li>
                <li><a href="Schwingkreis.html">Schwingkreis</a></li>
                <li><a href="Verstaerkung_Daempfung.html">Verts&auml;rkung/D&auml;mpfung</a></li>
                <li><a class="active" href="#Filter">Filter</a></li>
            </ul>
        </div>
        <nav class="dropdown-menu">
            <ul>
                <li><a href="../index.html">Allgemein</a></li>
                <li><a href="#Elektrotechnik">Elektrotechnik</a></li>
                <li><a href="../Elektronik/elektronik.html">Elektronik</a></li>
                <li><a href="../HST/hst.html">HST</a></li>
            </ul>
        </nav>
    </header>
    <div class="wrapper">
        <main>
            <div>
                <br><h1>Filter</h1>
            </div>
            <div>
                <button class="filter-button" type="button" onclick="toggleSelection(this, 'HP_RC')">
                    <img src="../Pictures/HP_RC_Schematic.png" alt="Hochpass RC">
                    <span>Hochpass RC</span>
                </button>
                <button class="filter-button" type="button" onclick="toggleSelection(this, 'HP_RL')">
                    <img src="../Pictures/HP_RL_Schematic.png" alt="Hochpass RL">
                    <span>Hochpass RL</span>
                </button>
                <button class="filter-button" type="button" onclick="toggleSelection(this, 'TP_RC')">
                    <img src="../Pictures/TP_RC_Schematic.png" alt="Tiefpass RC">
                    <span>Tiefpass RC</span>
                </button>
                <button class="filter-button" type="button" onclick="toggleSelection(this, 'TP_RL')">
                    <img src="../Pictures/TP_RL_Schematic.png" alt="Tiefpass RL">
                    <span>Tiefpass RL</span>
                </button>

                
            </div>

            <div id="HP_RC" style="display:none;" class="input-numbers">
                <h2>Hochpass RC</h2>

                <button onclick="resetInputs_HP_RC()" class="Button_Berechnen">Eingaben löschen</button>

                <div class="comment">
                    Werte mit Massvorsatz eingeben z.B. C = 100nF &rarr; Eingabe: 100n (nicht 100nF)<br><br>
                </div>

                <!--Winkel phi -->
                <div class="form-row">
                    <label>Winkel &phi;</label>
                    <input type="text" id="Winkel-HP_RC" style="border-color: var(--Winkel);">
                    <label>&deg; [Grad] (90&deg; ... 0&deg;)</label>
                </div>


                <!-- Widerstand R -->
                <div class="form-row">
                    <label>Widerstand R</label>
                    <input type="text" id="R-HP_RC" style="border-color: var(--Widerstand);">
                    <label>&Omega; [Ohm]</label>
                </div>

                <div class="form-row">
                    <label>Bildwiderstand X<sub>C</sub></label>
                    <input type="text" id="XC-HP_RC" style="border-color: var(--Widerstand);">
                    <label>&Omega; [Ohm] (&angle; -90&deg;)</label>
                </div>

                <div class="form-row">
                    <label>Gesamtimpedanz Z</label>
                    <input type="text" id="Z-HP_RC" style="border-color: var(--Widerstand);">
                    <label>&Omega; [Ohm]</label>
                </div>

                <!-- Daempfungsmass a -->
                <div class="form-row">
                    <label>D&auml;mpfungssmass a</label>
                    <input type="text" id="a-HP_RC" style="border-color: var(--Daempfungsmass);">
                    <label>1 [dB]</label>
                </div>

                <!-- Kapazitaet C -->
                <div class="form-row">
                    <label>Kapazit&auml;t C</label>
                    <input type="text" id="C-HP_RC" style="border-color: var(--Kapazitaet);">
                    <label>F [Farad]</label>
                </div>

                <!-- Spannung -->
                <div class="form-row">
                    <label>Spannung U<sub>in</sub></label>
                    <input type="text" id="Uin-HP_RC" style="border-color: var(--Spannung);">
                    <label>V [Volt]</label>
                </div>

                <div class="form-row">
                    <label>Spannung U<sub>C</sub></label>
                    <input type="text" id="Uc-HP_RC" style="border-color: var(--Spannung);">
                    <label>V [Volt]</label>
                </div>

                <div class="form-row">
                    <label>Spannung U<sub>out</sub></label>
                    <input type="text" id="Uout-HP_RC" style="border-color: var(--Spannung);">
                    <label>V [Volt] </label>
                </div>

                <!--Frequenz f-->
                <div class="form-row">
                    <label>Grenzfrequenz f<sub>g</sub></label>
                    <input type="text" id="fg-HP_RC" style="border-color: var(--Frequenz);">
                    <label>Hz [Hertz] </label>
                </div>

                <!--Frequenz f-->
                <div class="form-row">
                    <label>Frequenz f</label>
                    <input type="text" id="f-HP_RC" style="border-color: var(--Frequenz);">
                    <label>Hz [Hertz] </label>
                </div>

                <!--<input type="button" value="Berechnen" class="Button_Berechnen" onclick="calculate_HP_RC()">-->
                <button onclick="calculate_HP_RC()" class="Button_Berechnen">Berchenen</button>

                <h3>Berechnete Ergebnisse</h3>
                <p id="result_HP_RC"></p>
            </div>

            <div id="HP_RL" style="display:none;" class="input-numbers">
                <h2>Hochpass RL</h2>

                <button onclick="resetInputs_HP_RL()" class="Button_Berechnen">Eingaben löschen</button>

                <div class="comment">
                    Werte mit Massvorsatz eingeben z.B. C = 100nF &rarr; Eingabe: 100n (nicht 100nF)<br><br>
                </div>

                <!--Winkel phi -->
                <div class="form-row">
                    <label>Winkel &phi;</label>
                    <input type="text" id="Winkel-HP_RL" style="border-color: var(--Winkel);">
                    <label>&deg; [Grad] (90&deg; ... 0&deg;)</label>
                </div>


                <!-- Widerstand R -->
                <div class="form-row">
                    <label>Widerstand R</label>
                    <input type="text" id="R-HP_RL" style="border-color: var(--Widerstand);">
                    <label>&Omega; [Ohm]</label>
                </div>

                <div class="form-row">
                    <label>Bildwiderstand  X<sub>L</sub></label>
                    <input type="text" id="XL-HP_RL" style="border-color: var(--Widerstand);">
                    <label>&Omega; [Ohm] (&angle; +90&deg;)</label>
                </div>

                <div class="form-row">
                    <label>Gesamtimpedanz  Z</label>
                    <input type="text" id="Z-HP_RL" style="border-color: var(--Widerstand);">
                    <label>&Omega; [Ohm]</label>
                </div>

                <!-- Daempfungsmass a -->
                <div class="form-row">
                    <label>D&auml;mpfungssmass a</label>
                    <input type="text" id="a-HP_RL" style="border-color: var(--Daempfungsmass);">
                    <label>1 [dB]</label>
                </div>

                <!-- Induktivitaet L -->
                <div class="form-row">
                    <label>Induktivit&auml;t L</label>
                    <input type="text" id="L-HP_RL" style="border-color: var(--Induktivitaet);">
                    <label>H [Henri]</label>
                </div>

                <!-- Spannung -->
                <div class="form-row">
                    <label>Spannung U<sub>in</sub></label>
                    <input type="text" id="Uin-HP_RL" style="border-color: var(--Spannung);">
                    <label>V [Volt]</label>
                </div>

                <div class="form-row">
                    <label>Spannung U<sub>R</sub></label>
                    <input type="text" id="Ur-HP_RL" style="border-color: var(--Spannung);">
                    <label>V [Volt]</label>
                </div>

                <div class="form-row">
                    <label>Spannung U<sub>out</sub></label>
                    <input type="text" id="Uout-HP_RL" style="border-color: var(--Spannung);">
                    <label>V [Volt] </label>
                </div>

                <!--Frequenz f-->
                <div class="form-row">
                    <label>Grenzfrequenz f<sub>g</sub></label>
                    <input type="text" id="fg-HP_RL" style="border-color: var(--Frequenz);">
                    <label>Hz [Hertz] </label>
                </div>

                <!--Frequenz f-->
                <div class="form-row">
                    <label>Frequenz f</label>
                    <input type="text" id="f-HP_RL" style="border-color: var(--Frequenz);">
                    <label>Hz [Hertz] </label>
                </div>

                <!--<input type="button" value="Berechnen" class="Button_Berechnen" onclick="calculate_HP_RL()">-->
                <button onclick="calculate_HP_RL()" class="Button_Berechnen">Berchenen</button>

                <h3>Berechnete Ergebnisse</h3>
                <p id="result_HP_RL"></p>
            </div>

            <div id="TP_RC" style="display:none;" class="input-numbers">
                <h2>Tiefpass RC</h2>

                <button onclick="resetInputs_TP_RC()" class="Button_Berechnen">Eingaben löschen</button>

                <div class="comment">
                    Werte mit Massvorsatz eingeben z.B. C = 100nF &rarr; Eingabe: 100n (nicht 100nF)<br><br>
                </div>

                <!--Winkel phi -->
                <div class="form-row">
                    <label>Winkel &phi;</label>
                    <input type="text" id="Winkel-TP_RC" style="border-color: var(--Winkel);">
                    <label>&deg; [Grad] (0&deg; ... -90&deg;)</label>
                </div>


                <!-- Widerstand R -->
                <div class="form-row">
                    <label>Widerstand R</label>
                    <input type="text" id="R-TP_RC" style="border-color: var(--Widerstand);">
                    <label>&Omega; [Ohm]</label>
                </div>

                <div class="form-row">
                    <label>Bildwiderstand  X<sub>C</sub></label>
                    <input type="text" id="XC-TP_RC" style="border-color: var(--Widerstand);">
                    <label>&Omega; [Ohm] (&angle; -90&deg;)</label>
                </div>

                <div class="form-row">
                    <label>Gesamtimpedanz Z</label>
                    <input type="text" id="Z-TP_RC" style="border-color: var(--Widerstand);">
                    <label>&Omega; [Ohm]</label>
                </div>

                <!-- Daempfungsmass a -->
                <div class="form-row">
                    <label>D&auml;mpfungssmass a</label>
                    <input type="text" id="a-TP_RC" style="border-color: var(--Daempfungsmass);">
                    <label>1 [dB]</label>
                </div>

                <!-- Kapazitaet C -->
                <div class="form-row">
                    <label>Kapazit&auml;t C</label>
                    <input type="text" id="C-TP_RC" style="border-color: var(--Kapazitaet);">
                    <label>F [Farad]</label>
                </div>

                <!-- Spannung -->
                <div class="form-row">
                    <label>Spannung U<sub>in</sub></label>
                    <input type="text" id="Uin-TP_RC" style="border-color: var(--Spannung);">
                    <label>V [Volt]</label>
                </div>

                <div class="form-row">
                    <label>Spannung U<sub>R</sub></label>
                    <input type="text" id="Ur-TP_RC" style="border-color: var(--Spannung);">
                    <label>V [Volt]</label>
                </div>

                <div class="form-row">
                    <label>Spannung U<sub>out</sub></label>
                    <input type="text" id="Uout-TP_RC" style="border-color: var(--Spannung);">
                    <label>V [Volt] </label>
                </div>

                <!--Frequenz f-->
                <div class="form-row">
                    <label>Grenzfrequenz f<sub>g</sub></label>
                    <input type="text" id="fg-TP_RC" style="border-color: var(--Frequenz);">
                    <label>Hz [Hertz] </label>
                </div>

                <div class="form-row">
                    <label>Frequenz f</label>
                    <input type="text" id="f-TP_RC" style="border-color: var(--Frequenz);">
                    <label>Hz [Hertz] </label>
                </div>

                <!--<input type="button" value="Berechnen" class="Button_Berechnen" onclick="calculate_TP_RC()">-->
                <button onclick="calculate_TP_RC()" class="Button_Berechnen">Berchenen</button>

                <h3>Berechnete Ergebnisse</h3>
                <p id="result_TP_RC"></p>
            </div>

            <div id="TP_RL" style="display:none;" class="input-numbers">
                <h2>Tiefpass RL</h2>

                <button onclick="resetInputs_TP_RL()" class="Button_Berechnen">Eingaben löschen</button>

                <div class="comment">
                    Werte mit Massvorsatz eingeben z.B. C = 100nF &rarr; Eingabe: 100n (nicht 100nF)<br><br>
                </div>

                <!--Winkel phi -->
                <div class="form-row">
                    <label>Winkel &phi;</label>
                    <input type="text" id="Winkel-TP_RL" style="border-color: var(--Winkel);">
                    <label>&deg; [Grad] (0&deg; ... -90&deg;)</label>
                </div>


                <!-- Widerstand R -->
                <div class="form-row">
                    <label>Widerstand R</label>
                    <input type="text" id="R-TP_RL" style="border-color: var(--Widerstand);">
                    <label>&Omega; [Ohm]</label>
                </div>

                <div class="form-row">
                    <label>Bildwiderstand  X<sub>L</sub></label>
                    <input type="text" id="XL-TP_RL" style="border-color: var(--Widerstand);">
                    <label>&Omega; [Ohm] (&angle; +90&deg;)</label>
                </div>

                <div class="form-row">
                    <label>Gesmatimpedanz Z</label>
                    <input type="text" id="Z-TP_RL" style="border-color: var(--Widerstand);">
                    <label>&Omega; [Ohm]</label>
                </div>

                <!-- Daempfungsmass a -->
                <div class="form-row">
                    <label>D&auml;mpfungssmass a</label>
                    <input type="text" id="a-TP_RL" style="border-color: var(--Daempfungsmass);">
                    <label>1 [dB]</label>
                </div>

                <!-- Induktivitaet L -->
                <div class="form-row">
                    <label>Induktivit&auml;t L</label>
                    <input type="text" id="L-TP_RL" style="border-color: var(--Induktivitaet);">
                    <label>H [Henri]</label>
                </div>

                <!-- Spannung -->
                <div class="form-row">
                    <label>Spannung U<sub>in</sub></label>
                    <input type="text" id="Uin-TP_RL" style="border-color: var(--Spannung);">
                    <label>V [Volt]</label>
                </div>

                <div class="form-row">
                    <label>Spannung U<sub>L</sub></label>
                    <input type="text" id="Ul-TP_RL" style="border-color: var(--Spannung);">
                    <label>V [Volt]</label>
                </div>

                <div class="form-row">
                    <label>Spannung U<sub>out</sub></label>
                    <input type="text" id="Uout-TP_RL" style="border-color: var(--Spannung);">
                    <label>V [Volt] </label>
                </div>

                <!--Frequenz f-->
                <div class="form-row">
                    <label>Grenzfrequenz f<sub>g</sub></label>
                    <input type="text" id="fg-TP_RL" style="border-color: var(--Frequenz);">
                    <label>Hz [Hertz] </label>
                </div>

                <!--Frequenz f-->
                <div class="form-row">
                    <label>Frequenz f</label>
                    <input type="text" id="f-TP_RL" style="border-color: var(--Frequenz);">
                    <label>Hz [Hertz] </label>
                </div>

                <!--<input type="button" value="Berechnen" class="Button_Berechnen" onclick="calculate_TP_RL()">-->
                <button onclick="calculate_TP_RL()" class="Button_Berechnen">Berchenen</button>

                <h3>Berechnete Ergebnisse</h3>
                <p id="result_TP_RL"></p>
            </div>

            <br>
        </main>

        <footer>
            &copy; 2025 Elecalculate
        </footer>
    </div>
    <script>
        let selectedButton = null;

        function toggleSelection(button, sectionId) {
            const section = document.getElementById(sectionId);
            
            if (selectedButton === button) {
                // Deselect if the same button is clicked again
                button.classList.remove('selected');
                section.style.display = 'none';
                selectedButton = null;
            } else {
                // Remove selection from the previously selected button
                if (selectedButton) {
                    selectedButton.classList.remove('selected');
                }
                
                // Select the new button
                button.classList.add('selected');
                selectedButton = button;

                // Show the selected section and hide the other
                if (sectionId === 'HP_RC') {
                    document.getElementById('HP_RC').style.display = 'block';
                    document.getElementById('HP_RL').style.display = 'none';
                    document.getElementById('TP_RC').style.display = 'none';
                    document.getElementById('TP_RL').style.display = 'none';
                } else if(sectionId === 'HP_RL') {
                    document.getElementById('HP_RC').style.display = 'none';
                    document.getElementById('HP_RL').style.display = 'block';
                    document.getElementById('TP_RL').style.display = 'none';
                    document.getElementById('TP_RC').style.display = 'none';
                } else if (sectionId === 'TP_RC') {
                    document.getElementById('HP_RC').style.display = 'none';
                    document.getElementById('HP_RL').style.display = 'none';
                    document.getElementById('TP_RC').style.display = 'block';
                    document.getElementById('TP_RL').style.display = 'none';
                } else if (sectionId === 'TP_RL') {
                    document.getElementById('HP_RC').style.display = 'none';
                    document.getElementById('HP_RL').style.display = 'none';
                    document.getElementById('TP_RC').style.display = 'none';
                    document.getElementById('TP_RL').style.display = 'block';
                }
            }
        }

        function calculate_HP_RC() 
        {
            
            let result_HP_RC = ``;
            let prevResult_HP_RC = `1`;

            let phi = document.getElementById("Winkel-HP_RC").value;
            let R = document.getElementById("R-HP_RC").value;
            let XC = document.getElementById("XC-HP_RC").value;
            let Z = document.getElementById("Z-HP_RC").value;
            let a = document.getElementById("a-HP_RC").value;
            let C = document.getElementById("C-HP_RC").value;
            let Uin = document.getElementById("Uin-HP_RC").value; 
            let Uc = document.getElementById("Uc-HP_RC").value;
            let Uout = document.getElementById("Uout-HP_RC").value;
            let fg = document.getElementById("fg-HP_RC").value;
            let f = document.getElementById("f-HP_RC").value;

            // debugger;
            while(result_HP_RC != prevResult_HP_RC)
            {
                prevResult_HP_RC = result_HP_RC;
                // debugger;

                // === Winkel phi ===
                if(!phi && Uc && Uin)
                {
                    phi = formatPrefixNoUnit(Math.asin(parseInput(Uc) / parseInput(Uin)));
                    result_HP_RC += `
                        Winkel &phi; = arcsin(
                        <div class ="fraction">
                            <span class="fraction-numerator">U<sub>C</sub></span><br>
                            <span>U<sub>in</sub></span>
                        </div>)
                    =
                        <div class ="fraction">
                            <span class="fraction-numerator">${Uc}V</span><br>
                            <span>${Uin}V</span>
                        </div> 
                    = ${phi} &rarr; ${formatPrefixNoUnit(parseInput(phi) * 180/Math.PI)}&deg;<br>`;
                }

                if(!phi && XC && Z)
                {
                    phi = formatPrefixNoUnit(Math.asin(parseInput(XC) / parseInput(Z)));
                    result_HP_RC += `
                        Winkel &phi; = arcsin(
                        <div class ="fraction">
                            <span class="fraction-numerator">X<sub>C</sub></span><br>
                            <span>Z</span>
                        </div>)
                    =
                        <div class ="fraction">
                            <span class="fraction-numerator">${XC}&Omega;</span><br>
                            <span>${Z}&Omega;</span>
                        </div> 
                    = ${phi} &rarr; ${formatPrefixNoUnit(parseInput(phi) * 180/Math.PI)}&deg;<br>`;
                }
                
                // === Widerstand R ===
                if(!R && fg && C)
                {
                    R = formatPrefixNoUnit(1/(2 * Math.PI * parseInput(fg) * parseInput(C)));
                    result_HP_RC += `
                        Widerstand R = 
                        <div class ="fraction">
                            <span> 1 </span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; f<sub>g</sub> &lowast; C</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span>1</span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; ${fg}Hz &lowast; ${C}F</span>
                        </div> 
                    = ${R}&Omega; <br>`;
                }

                if(!R && Z && XC)
                {
                    R = formatPrefixNoUnit(Math.pow(Math.pow(parseInput(Z), 2) - Math.pow(parseInput(XC), 2), 0.5));
                    result_HP_RC += `
                        Widerstand R =
                        &radic; Z<sup>2</sup> - X<sub>C</sub><sup>2</sup>
                    =
                        &radic; (${Z}&Omega;)<sup>2</sup> - (${XC}&Omega;)<sup>2</sup>
                    = ${R}&Omega;<br>`;
                }

                // === Blindwiderstand Xc ===
                if(!XC && f && C)
                {
                    XC = formatPrefixNoUnit(1/(2 * Math.PI * parseInput(f) * parseInput(C)));
                    result_HP_RC += `
                        Blindwiderstand X<sub>C</sub> = 
                        <div class ="fraction">
                            <span> 1 </span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; f &lowast; C</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span>1</span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; ${f}Hz &lowast; ${C}F</span>
                        </div> 
                    = ${XC}&Omega; <br>`;
                }

                if(!XC && Z && R)
                {
                    XC = formatPrefixNoUnit(Math.pow(Math.pow(parseInput(Z), 2) - Math.pow(parseInput(R), 2), 0.5));
                    result_HP_RC += `
                        Blindwiderstand X<sub>C</sub> =
                        &radic; Z<sup>2</sup> - R<sup>2</sup>
                    =
                        &radic; (${Z}&Omega;)<sup>2</sup> - (${R}&Omega;)<sup>2</sup>
                    = ${XC}&Omega;<br>`;
                }

                // === Impedeanz Z ===
                if(!Z && R && XC)
                {
                    Z = formatPrefixNoUnit(Math.pow(Math.pow(parseInput(R), 2) + Math.pow(parseInput(XC), 2), 0.5));
                    result_HP_RC += `
                        Gesamtimpedanz Z =
                        &radic; R<sup>2</sup> + X<sub>C</sub><sup>2</sup>
                    =
                        &radic; (${R}&Omega;)<sup>2</sup> + (${XC}&Omega;)<sup>2</sup>
                    = ${Z}&Omega;<br>`;
                }

                // === Daempungsmass a ===
                if(!a && Z && R)
                {
                    a = formatPrefixNoUnit(20 * getlg(parseInput(Z) / parseInput(R)));
                    result_HP_RC += `
                        D&auml;mpfungsmass a = 
                        20 &lowast; log<sub>10</sub> ( <div class ="fraction">
                            <span class="fraction-numerator"> Z </span><br>
                            <span>R</span> 
                        </div> )
                    =   20 &lowast; log<sub>10</sub>
                        ( <div class ="fraction"> 
                            <span class="fraction-numerator"> ${Z}&Omega; </span><br>
                            <span>${R}&Omega;</span>   
                        </div> )
                    = ${a}dB <br>`;
                }

                if(!a && Uin && Uout)
                {
                    a = formatPrefixNoUnit(20 * getlg(parseInput(Uin) / parseInput(Uout)));
                    result_HP_RC += `
                        D&auml;mpfungsmass a = 
                        20 &lowast; log<sub>10</sub> ( <div class ="fraction">
                            <span class="fraction-numerator"> U<sub>in</sub> </span><br>
                            <span>U<sub>out</sub></span> 
                        </div> )
                    =   20 &lowast; log<sub>10</sub>
                        ( <div class ="fraction"> 
                            <span class="fraction-numerator"> ${Uin}V </span><br>
                            <span>${Uout}V</span>   
                        </div> )
                    = ${a}dB <br>`;
                }

                // === Kapaziteat C ===
                if(!C && fg && R)
                {
                    C = formatPrefixNoUnit(1/(2 * Math.PI * parseInput(R) * parseInput(fg)));
                    // debugger;
                    result_HP_RC += `
                        Kapazit&auml;t C = 
                        <div class ="fraction">
                            <span> 1 </span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; R &lowast; f<sub>g</sub></span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span>1</span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; ${R}&Omega; &lowast; ${fg}Hz</span>
                        </div> 
                    = ${C}F <br>`;
                }

                if(!C && f && XC)
                {
                    C = formatPrefixNoUnit(1/(2 * Math.PI * parseInput(f) * parseInput(XC)));
                    result_HP_RC += `
                        Kapazit&auml;t C = 
                        <div class ="fraction">
                            <span> 1 </span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; f &lowast; X<sub>C</sub></span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span>1</span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; ${f}Hz &lowast; ${XC}&Omega;</span>
                        </div> 
                    = ${C}F <br>`;
                }

                // === Spannung Uin ===
                if(!Uin && Uout && Z && R)
                {
                    Uin = formatPrefixNoUnit(parseInput(Uout) * parseInput(Z) / parseInput(R));
                    result_HP_RC += `
                        Spannung U<sub>in</sub> = 
                        <div class ="fraction">
                            <span class="fraction-numerator">U<sub>out</sub> &lowast; Z</span><br>
                            <span>R</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span class="fraction-numerator">${Uout}V &lowast; ${Z}&Omega;</span><br>
                            <span>${R}&Omega;</span>
                        </div> 
                    = ${Uin}V<br>`;
                }

                if(!Uin && Uc && Uout)
                {
                    Uin = formatPrefixNoUnit(Math.pow(Math.pow(parseInput(Uc), 2) + Math.pow(parseInput(Uout), 2), 0.5));
                    result_HP_RC += `
                        Spannung U<sub>in</sub> =
                        &radic; U<sub>C</sub><sup>2</sup> + U<sub>out</sub><sup>2</sup>
                    =
                        &radic; (${Uc}V)<sup>2</sup> + (${Uout}V)<sup>2</sup>
                    = ${Uin}V<br>`;
                }

                // === Spannung Uc ===
                if(!Uc && Uin && R && Z)
                {
                    Uc = formatPrefixNoUnit(parseInput(Uin) * parseInput(XC) / parseInput(Z));
                    result_HP_RL += `
                        Spannung U<sub>C</sub> = 
                        <div class ="fraction">
                            <span class="fraction-numerator">U<sub>in</sub> &lowast; X<sub>C</sub></span><br>
                            <span>Z</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span class="fraction-numerator">${Uin}V &lowast; ${XC}&Omega;</span><br>
                            <span>${Z}&Omega;</span>
                        </div> 
                    = ${Uc}V<br>`;
                }

                if(!Uc && Uin && Uout)
                {
                    Uc = formatPrefixNoUnit(Math.pow(Math.pow(parseInput(Uin), 2) - Math.pow(parseInput(Uout), 2), 0.5));
                    result_HP_RC += `
                        Spannung U<sub>C</sub> =
                        &radic; U<sub>in</sub><sup>2</sup> - U<sub>out</sub><sup>2</sup>
                    =
                        &radic; (${Uin}V)<sup>2</sup> - (${Uout}V)<sup>2</sup>
                    = ${Uc}V<br>`;
                }

                // === Spannung Uout ===
                if(!Uout && Uin && R && Z)
                {
                    Uout = formatPrefixNoUnit(parseInput(Uin) * parseInput(R)/ parseInput(Z));
                    result_HP_RC += `
                        Spannung U<sub>out</sub> = 
                        <div class ="fraction">
                            <span class="fraction-numerator">U<sub>in</sub> &lowast; R</span><br>
                            <span>Z</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span class="fraction-numerator">${Uin}V &lowast; ${R}&Omega;</span><br>
                            <span>${Z}&Omega;</span>
                        </div> 
                    = ${Uout}V<br>`;
                }

                if(!Uout && Uin && Uc)
                {
                    Uout = formatPrefixNoUnit(Math.pow(Math.pow(parseInput(Uin), 2) - Math.pow(parseInput(Uc), 2), 0.5));
                    result_HP_RC += `
                        Spannung U<sub>out</sub> =
                        &radic; U<sub>in</sub><sup>2</sup> - U<sub>C</sub><sup>2</sup>
                    =
                        &radic; (${Uin}V)<sup>2</sup> - (${Uc}V)<sup>2</sup>
                    = ${Uout}V<br>`;
                }

                // === Grenzfrequenz fg ===
                if(!fg && R && C)
                {
                    fg = formatPrefixNoUnit(1/(2 * Math.PI * parseInput(R) * parseInput(C)));
                    result_HP_RC += `
                        Grenzfrequnez f<sub>g</sub> = 
                        <div class ="fraction">
                            <span> 1 </span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; R &lowast; C</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span>1</span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; ${R}&Omega; &lowast; ${C}F</span>
                        </div> 
                    = ${fg}Hz <br>`;
                }

                // === frequenz f ===
                if(!f && C && XC)
                {
                    f = formatPrefixNoUnit(1/(2 * Math.PI * parseInput(XC) * parseInput(C)));
                    result_HP_RC += `
                        Frequenz f = 
                        <div class ="fraction">
                            <span> 1 </span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; X<sub>C</sub> &lowast; C</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span>1</span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; ${XC}&Omega; &lowast; ${C}F</span>
                        </div> 
                    = ${f}Hz <br>`;
                }
            }
            
            document.getElementById('result_HP_RC').innerHTML = result_HP_RC;

            /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 
            * Create Canvas with bode diagramm
            * x-axis: logarithmic
            * y-axis: linear
            *
            * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
            * Amplitude diagramm:
            * 
            * formula for desmos.com/calculator: 20\cdot\frac{\ln\left(\frac{R}{\sqrt{R^{2}+\left(\frac{1}{2\pi\cdot x\cdot C}\right)^{2}}}\right)}{\ln\left(10\right)}
            *       
            *                        R
            *      ln(____________________________________)
            *                               1
            *         sqrt( R^2  +  ( ______________ )^2 )
            *                         2 * pi * x * C
            * 20 * ________________________________________
            *                      ln(10)
            * 
            * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
            * Phase diagramm:
            * 
            * -arctan(R * 2 * pi * x * C) * 180/pi
            * 
            * 
            * 
             * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */

        }

        function calculate_HP_RL() 
        {
            
            let result_HP_RL = ``;
            let prevResult_HP_RL = `1`;

            let phi = document.getElementById("Winkel-HP_RL").value;
            let R = document.getElementById("R-HP_RL").value;
            let XL = document.getElementById("XL-HP_RL").value;
            let Z = document.getElementById("Z-HP_RL").value;
            let a = document.getElementById("a-HP_RL").value;
            let L = document.getElementById("L-HP_RL").value;
            let Uin = document.getElementById("Uin-HP_RL").value;
            let Ur = document.getElementById("Ur-HP_RL").value;
            let Uout = document.getElementById("Uout-HP_RL").value;
            let fg = document.getElementById("fg-HP_RL").value;
            let f = document.getElementById("f-HP_RL").value;

            // debugger;
            while(result_HP_RL != prevResult_HP_RL)
            {
                prevResult_HP_RL = result_HP_RL;

                // === Winkel phi ===
                // ToDo

                // === Widerstand R ===
                if(!R && fg && L)
                {
                    R = formatPrefixNoUnit(2 * Math.PI * parseInput(fg) * parseInput(L));
                    result_HP_RL += `
                        Widerstand R = 
                        2&pi; &lowast; f<sub>g</sub> &lowast; L
                    =
                        2&pi; &lowast; ${fg}Hz &lowast; ${L}H
                    = ${R}&Omega;<br>`;
                }

                if(!R && Z && XC)
                {
                    R = formatPrefixNoUnit(Math.pow(Math.pow(parseInput(Z), 2) - Math.pow(parseInput(XC), 2), 0.5));
                    result_HP_RL += `
                        Widerstand R =
                        &radic; Z<sup>2</sup> - X<sub>C</sub><sup>2</sup>
                    =
                        &radic; (${Z}&Omega;)<sup>2</sup> - (${XC}&Omega;)<sup>2</sup>
                    = ${R}&Omega;<br>`;
                }

                // === Blindwiderstand XL ===
                if(!XL && f && L)
                {
                    XL = formatPrefixNoUnit(2 * Math.PI * parseInput(f) * parseInput(L));
                    result_HP_RL += `
                        Blindwiderstand X<sub>L</sub> = 
                        2&pi; &lowast; f &lowast; L
                    =
                        2&pi; &lowast; ${f}Hz &lowast; ${L}H
                    = ${XL}&Omega;<br>`;
                }

                if(!XL && Z && R)
                {
                    XL = formatPrefixNoUnit(Math.pow(Math.pow(parseInput(Z), 2) - Math.pow(parseInput(R), 2), 0.5));
                    result_HP_RL += `
                        Blindwiderstand X<sub>L</sub> =
                        &radic; Z<sup>2</sup> - R<sup>2</sup>
                    =
                        &radic; (${Z}&Omega;)<sup>2</sup> - (${R}&Omega;)<sup>2</sup>
                    = ${XL}&Omega;<br>`;
                }

                // === Impedanz Z ===
                if(!Z && R && XL)
                {
                    debugger;
                    Z = formatPrefixNoUnit(Math.pow(Math.pow(parseInput(R), 2) + Math.pow(parseInput(XL), 2), 0.5));
                    result_HP_RL += `
                        Gesamtimpedanz Z =
                        &radic; R<sup>2</sup> + X<sub>L</sub><sup>2</sup>
                    =
                        &radic; (${R}&Omega;)<sup>2</sup> + (${XL}&Omega;)<sup>2</sup>
                    = ${Z}&Omega;<br>`;
                }

                // === Daempfungsmass a ===
                if(!a && Z && XL)
                {
                    a = formatPrefixNoUnit(20 * getlg(parseInput(Z) / parseInput(XL)));
                    result_HP_RL += `
                        D&auml;mpfungsmass a = 
                        20 &lowast; log<sub>10</sub> ( <div class ="fraction">
                            <span class="fraction-numerator"> Z </span><br>
                            <span>X<sub>L</sub></span> 
                        </div> )
                    =   20 &lowast; log<sub>10</sub>
                        ( <div class ="fraction"> 
                            <span class="fraction-numerator"> ${Z}&Omega; </span><br>
                            <span>${XL}&Omega;</span>   
                        </div> )
                    = ${a}dB <br>`;
                }

                if(!a && Uin && Uout)
                {
                    a = formatPrefixNoUnit(20 * getlg(parseInput(Uin) / parseInput(Uout)));
                    result_HP_RL += `
                        D&auml;mpfungsmass a = 
                        20 &lowast; log<sub>10</sub> ( <div class ="fraction">
                            <span class="fraction-numerator"> U<sub>in</sub> </span><br>
                            <span>U<sub>out</sub></span> 
                        </div> )
                    =   20 &lowast; log<sub>10</sub>
                        ( <div class ="fraction"> 
                            <span class="fraction-numerator"> ${Uin}V </span><br>
                            <span>${Uout}V</span>   
                        </div> )
                    = ${a}dB <br>`;
                }

                // === Spule L ===
                if(!L && XL && f)
                {
                    L = formatPrefixNoUnit(parseInput(XL)/(2 * Math.PI * parseInput(f)));
                    result_HP_RL += `
                        Induktivit&auml;t L = 
                        <div class ="fraction">
                            <span> X<sub>L</sub> </span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; f</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span>${XL}&Omega;</span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; ${f}Hz</span>
                        </div> 
                    = ${L}H<br>`;
                }

                if(!L && fg && R)
                {
                    L = formatPrefixNoUnit(parseInput(R)/(2 * Math.PI * parseInput(fg)));
                    result_HP_RL += `
                        Induktivit&auml;t L = 
                        <div class ="fraction">
                            <span> R </span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; f<sub>g</sub></span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span>${R}&Omega;</span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; ${fg}Hz</span>
                        </div> 
                    = ${L}H<br>`;
                }

                // === Spannung Uin ===
                if(!Uin && Uout && XL && Z)
                {
                    Uin = formatPrefixNoUnit(parseInput(Uout) * parseInput(Z) / parseInput(XL));
                    result_HP_RL += `
                        Spannung U<sub>in</sub> = 
                        <div class ="fraction">
                            <span class="fraction-numerator">U<sub>out</sub> &lowast; Z</span><br>
                            <span>X<sub>L</sub></span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span class="fraction-numerator">${Uin}V &lowast; ${Z}&Omega;</span><br>
                            <span>${XL}&Omega;</span>
                        </div> 
                    = ${Uin}V<br>`;
                }

                if(!Uin && Ur && Uout)
                {
                    Uin = formatPrefixNoUnit(Math.pow(Math.pow(parseInput(Ur), 2) + Math.pow(parseInput(Uout), 2), 0.5));
                    result_HP_RL += `
                        Spannung U<sub>in</sub> =
                        &radic; U<sub>R</sub><sup>2</sup> + U<sub>out</sub><sup>2</sup>
                    =
                        &radic; (${Ur}V)<sup>2</sup> + (${Uout}V)<sup>2</sup>
                    = ${Uin}V<br>`;
                }

                // === Spannung Ur ===
                if(!Ur && Uin && R && Z)
                {
                    Ur = formatPrefixNoUnit(parseInput(Uin) * parseInput(R) / parseInput(Z));
                    result_HP_RL += `
                        Spannung U<sub>R</sub> = 
                        <div class ="fraction">
                            <span class="fraction-numerator">U<sub>in</sub> &lowast; R</span><br>
                            <span>Z</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span class="fraction-numerator">${Uin}V &lowast; ${R}&Omega;</span><br>
                            <span>${Z}&Omega;</span>
                        </div> 
                    = ${Ur}V<br>`;
                }

                if(!Ur && Uin && Uout)
                {
                    Ur = formatPrefixNoUnit(Math.pow(Math.pow(parseInput(Uin), 2) - Math.pow(parseInput(Uout), 2), 0.5));
                    result_HP_RL += `
                        Spannung U<sub>R</sub> =
                        &radic; U<sub>in</sub><sup>2</sup> - U<sub>out</sub><sup>2</sup>
                    =
                        &radic; (${Uin}V)<sup>2</sup> - (${Uout}V)<sup>2</sup>
                    = ${Ur}V<br>`;
                }

                // === Spannung Uout ===
                if(!Uout && Uin && XL && Z)
                {
                    Uout = formatPrefixNoUnit(parseInput(Uin) * parseInput(XL)/ parseInput(Z));
                    result_HP_RL += `
                        Spannung U<sub>out</sub> = 
                        <div class ="fraction">
                            <span class="fraction-numerator">U<sub>in</sub> &lowast; X<sub>L</sub></span><br>
                            <span>Z</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span class="fraction-numerator">${Uin}V &lowast; ${XL}&Omega;</span><br>
                            <span>${Z}&Omega;</span>
                        </div> 
                    = ${Uout}V<br>`;
                }

                if(!Uout && Uin && Ur)
                {
                    Uout = formatPrefixNoUnit(Math.pow(Math.pow(parseInput(Uin), 2) - Math.pow(parseInput(Ur), 2), 0.5));
                    result_HP_RC += `
                        Spannung U<sub>out</sub> =
                        &radic; U<sub>in</sub><sup>2</sup> - U<sub>R</sub><sup>2</sup>
                    =
                        &radic; (${Uin}V)<sup>2</sup> - (${Ur}V)<sup>2</sup>
                    = ${Uout}V<br>`;
                }
                
                // === Grenzfrequnez fg ===
                if(!fg && R && L)
                {
                    fg = formatPrefixNoUnit(parseInput(R)/(2 * Math.PI * parseInput(L)));
                    result_HP_RL += `
                        Grenzfrequnez f<sub>g</sub> = 
                        <div class ="fraction">
                            <span> R </span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; L</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span>${R}&Omega;</span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; ${L}H</span>
                        </div> 
                    = ${fg}Hz<br>`;
                }

                // === Frequnez f ===
                if(!f && R && L)
                {
                    f = formatPrefixNoUnit(parseInput(R)/(2 * Math.PI * parseInput(L)));
                    result_HP_RL += `
                        Frequenz = 
                        <div class ="fraction">
                            <span> X<sub>L</sub> </span><br>
                            <span class="fraction-denumerator">2&pi; &lowast;L</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span>${XL}&Omega;</span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; ${L}H</span>
                        </div> 
                    = ${f}Hz<br>`;
                }

            }

            document.getElementById('result_HP_RL').innerHTML = result_HP_RL;
        }

        function calculate_TP_RC() 
        {
            
            let result_TP_RC = ``;
            let prevResult_TP_RC = `1`;

            let phi = document.getElementById("Winkel-TP_RC").value;
            let R = document.getElementById("R-TP_RC").value;
            let XC = document.getElementById("XC-TP_RC").value;
            let Z = document.getElementById("Z-TP_RC").value;
            let a = document.getElementById("a-TP_RC").value;
            let C = document.getElementById("C-TP_RC").value;
            let Uin = document.getElementById("Uin-TP_RC").value;
            let Ur = document.getElementById("Ur-TP_RC").value;
            let Uout = document.getElementById("Uout-TP_RC").value;
            let fg = document.getElementById("fg-TP_RC").value;
            let f = document.getElementById("f-TP_RC").value;

            while(result_TP_RC != prevResult_TP_RC)
            {
                prevResult_TP_RC = result_TP_RC;

                // debugger;
                // === Winkel phi ===
                // ToDo

                // === Widerstand R ===
                if(!R && fg && C)
                {
                    result_TP_RC += `
                        Widerstand R = 
                        <div class ="fraction">
                            <span> 1 </span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; f<sub>g</sub> &lowast; C</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span>1</span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; ${fg}Hz &lowast; ${C}F</span>
                        </div> 
                    = ${formatWithPrefix(1/(2 * Math.PI * parseInput(fg) * parseInput(C)), "&Omega;")}<br>`;
                }

                if(!R && Z && XC)
                {
                    R = formatPrefixNoUnit(Math.pow(Math.pow(parseInput(Z), 2) - Math.pow(parseInput(XC), 2), 0.5));
                    result_TP_RC += `
                        Widerstand R =
                        &radic; Z<sup>2</sup> - X<sub>C</sub><sup>2</sup>
                    =
                        &radic; (${Z}&Omega;)<sup>2</sup> - (${XC}&Omega;)<sup>2</sup>
                    = ${R}&Omega;<br>`;
                }

                /*if(!R && f && C && phi)
                {
                    result_TP_RC += `
                        Widerstand R = 
                        <div class ="fraction">
                            <span>tan(&phi;)</span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; f &lowast; C</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span>tan(${phi}&deg;)</span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; ${f}Hz &lowast; ${C}F</span>
                        </div> 
                    = ${formatWithPrefix((Math.tan(parseInput(phi) * Math.PI/180))/(2 * Math.PI * parseInput(f) * parseInput(C)), "&Omega;")}<br>`;
                }

                if(!R && XC && phi)
                {
                    result_TP_RC += `
                        Widerstand R = tan(&phi;) &lowast; X<sub>C</sub>
                    = tan(${phi}&deg;) &lowast; ${XC}&Omega;
                    = ${formatWithPrefix((Math.tan(parseInput(phi) * Math.PI/180)) * (parseInput(XC)), "&Omega;")}<br>`;
                }*/

                // === Blindwiderstand Xc ===
                if(!XC && f && C)
                {
                    result_TP_RC += `
                        Blindwiderstand X<sub>C</sub> = 
                        <div class ="fraction">
                            <span> 1 </span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; f &lowast; C</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span>1</span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; ${f}Hz &lowast; ${C}F</span>
                        </div> 
                    = ${formatWithPrefix(1/(2 * Math.PI * parseInput(f) * parseInput(C)), "&Omega;")}<br>`;
                }

                if(!XC && f && C)
                {
                    XC = formatPrefixNoUnit(1/(2 * Math.PI * parseInput(f) * parseInput(C)));
                    result_TP_RC += `
                        Blindwiderstand X<sub>C</sub> = 
                        <div class ="fraction">
                            <span> 1 </span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; f &lowast; C</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span>1</span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; ${f}Hz &lowast; ${C}F</span>
                        </div> 
                    = ${XC}&Omega; <br>`;
                }

                // === Impedanz Z ===
                if(!Z && R && XC)
                {
                    Z = formatPrefixNoUnit(Math.pow(Math.pow(parseInput(R), 2) + Math.pow(parseInput(XC), 2), 0.5));
                    result_TP_RC += `
                        Gesamtimpedanz Z =
                        &radic; R<sup>2</sup> + X<sub>C</sub><sup>2</sup>
                    =
                        &radic; (${R}&Omega;)<sup>2</sup> + (${XC}&Omega;)<sup>2</sup>
                    = ${Z}&Omega;<br>`;
                }

                // === Daempungsmass a ===
                if(!a && Z && XC)
                {
                    a = formatPrefixNoUnit(20 * getlg(parseInput(Z) / parseInput(XC)));
                    result_TP_RC += `
                        D&auml;mpfungsmass a = 
                        20 &lowast; log<sub>10</sub> ( <div class ="fraction">
                            <span class="fraction-numerator"> Z </span><br>
                            <span>X<sub>C</sub></span> 
                        </div> )
                    =   20 &lowast; log<sub>10</sub>
                        ( <div class ="fraction"> 
                            <span class="fraction-numerator"> ${Z}&Omega; </span><br>
                            <span>${XC}&Omega;</span>   
                        </div> )
                    = ${a}dB <br>`;
                }

                if(!a && Uin && Uout)
                {
                    a = formatPrefixNoUnit(20 * getlg(parseInput(Uin) / parseInput(Uout)));
                    result_TP_RC += `
                        D&auml;mpfungsmass a = 
                        20 &lowast; log<sub>10</sub> ( <div class ="fraction">
                            <span class="fraction-numerator"> U<sub>in</sub> </span><br>
                            <span>U<sub>out</sub></span> 
                        </div> )
                    =   20 &lowast; log<sub>10</sub>
                        ( <div class ="fraction"> 
                            <span class="fraction-numerator"> ${Uin}V </span><br>
                            <span>${Uout}V</span>   
                        </div> )
                    = ${a}dB <br>`;
                }


                // === Kapazitaet C ===
                if(!C && fg && R)
                {
                    result_TP_RC += `
                        Kapazit&auml;t C = 
                        <div class ="fraction">
                            <span> 1 </span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; R &lowast; f<sub>g</sub></span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span>1</span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; ${R}&Omega; &lowast; ${fg}Hz</span>
                        </div> 
                    = ${formatWithPrefix(1/(2 * Math.PI * parseInput(R) * parseInput(fg)), "F")}<br>`;
                }

                if(!C && f && XC)
                {
                    C = formatPrefixNoUnit(1/(2 * Math.PI * parseInput(f) * parseInput(XC)));
                    result_TP_RC += `
                        Kapazit&auml;t C = 
                        <div class ="fraction">
                            <span> 1 </span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; f &lowast; X<sub>C</sub></span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span>1</span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; ${f}Hz &lowast; ${XC}&Omega;</span>
                        </div> 
                    = ${C}F <br>`;
                }

                // Spannung Uin ===
                if(!Uin && Uout && Z && XC)
                {
                    Uin = formatPrefixNoUnit(parseInput(Uout) * parseInput(Z) / parseInput(XC));
                    result_TP_RC += `
                        Spannung U<sub>in</sub> = 
                        <div class ="fraction">
                            <span class="fraction-numerator">U<sub>out</sub> &lowast; Z</span><br>
                            <span>X<sub>C</sub></span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span class="fraction-numerator">${Uout}V &lowast; ${Z}&Omega;</span><br>
                            <span>${XC}&Omega;</span>
                        </div> 
                    = ${Uin}V<br>`;
                }

                if(!Uin && Ur && Uout)
                {
                    Uin = formatPrefixNoUnit(Math.pow(Math.pow(parseInput(Ur), 2) + Math.pow(parseInput(Uout), 2), 0.5));
                    result_TP_RC += `
                        Spannung U<sub>in</sub> =
                        &radic; U<sub>C</sub><sup>2</sup> + U<sub>out</sub><sup>2</sup>
                    =
                        &radic; (${Ur}V)<sup>2</sup> + (${Uout}V)<sup>2</sup>
                    = ${Uin}V<br>`;
                }

                // Spannung Ur ===
                if(!Ur && Uin && R && Z)
                {
                    Ur = formatPrefixNoUnit(parseInput(Uin) * parseInput(R) / parseInput(Z));
                    result_TP_RL += `
                        Spannung U<sub>R</sub> = 
                        <div class ="fraction">
                            <span class="fraction-numerator">U<sub>in</sub> &lowast; R</span><br>
                            <span>Z</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span class="fraction-numerator">${Uin}V &lowast; ${R}&Omega;</span><br>
                            <span>${Z}&Omega;</span>
                        </div> 
                    = ${Ur}V<br>`;
                }

                if(!Ur && Uin && Uout)
                {
                    Ur = formatPrefixNoUnit(Math.pow(Math.pow(parseInput(Uin), 2) - Math.pow(parseInput(Uout), 2), 0.5));
                    result_TP_RC += `
                        Spannung U<sub>R</sub> =
                        &radic; U<sub>in</sub><sup>2</sup> - U<sub>out</sub><sup>2</sup>
                    =
                        &radic; (${Uin}V)<sup>2</sup> - (${Uout}V)<sup>2</sup>
                    = ${Ur}V<br>`;
                }

                // === Spannung Uout ===
                /*if(!Uout && R && C && Uin && C && f)
                {
                    // U1 / (sqrt(1 + (2pi * R * C)^2))
                    result_TP_RC += `
                        Spannung   U<sub>out</sub> = 
                        <div class ="fraction">
                            <span> U<sub>1</sub> </span><br>
                            <span class="fraction-denumerator">&radic;(1 + (2&pi; &lowast; F &lowast; R &lowast; C)<sup>2</sup>)</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span>${Uin}V</span><br>
                            <span class="fraction-denumerator">&radic;(1 + (2&pi; &lowast; ${f}Hz &lowast; ${R}&Omega; &lowast; ${C}F)<sup>2</sup>)</span>
                        </div> 
                    = ${formatWithPrefix(parseInput(Uin)/(Math.pow(1 + Math.pow( 2 * Math.PI * parseInput(f) * parseInput(R) * parseInput(C) , 2), 0.5)), "V")}<br>`;
                }*/
                if(!Uout && Uin && XC && Z)
                {
                    Uout = formatPrefixNoUnit(parseInput(Uin) * parseInput(XC)/ parseInput(Z));
                    result_TP_RC += `
                        Spannung U<sub>out</sub> = 
                        <div class ="fraction">
                            <span class="fraction-numerator">U<sub>in</sub> &lowast; X<sub>C</sub></span><br>
                            <span>Z</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span class="fraction-numerator">${Uin}V &lowast; ${XC}&Omega;</span><br>
                            <span>${Z}&Omega;</span>
                        </div> 
                    = ${Uout}V<br>`;
                }

                if(!Uout && Uin && Ur)
                {
                    Uout = formatPrefixNoUnit(Math.pow(Math.pow(parseInput(Uin), 2) - Math.pow(parseInput(Ur), 2), 0.5));
                    result_TP_RC += `
                        Spannung U<sub>out</sub> =
                        &radic; U<sub>in</sub><sup>2</sup> - U<sub>R</sub><sup>2</sup>
                    =
                        &radic; (${Uin}V)<sup>2</sup> - (${Ur}V)<sup>2</sup>
                    = ${Uout}V<br>`;
                }

                // === Grenzfrequenz fg ===
                if(!fg && R && C)
                {
                    fg = formatPrefixNoUnit(1/(2 * Math.PI * parseInput(R) * parseInput(C)));
                    result_TP_RC += `
                        Grenzfrequnez f<sub>g</sub> = 
                        <div class ="fraction">
                            <span> 1 </span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; R &lowast; C</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span>1</span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; ${R}&Omega; &lowast; ${C}F</span>
                        </div> 
                    = ${fg}Hz<br>`;
                }

                // === frequenz f ===
                if(!f && XC && C)
                {
                    f = formatPrefixNoUnit(1/(2 * Math.PI * parseInput(XC) * parseInput(C)));
                    result_TP_RC += `
                        Frequenz f = 
                        <div class ="fraction">
                            <span> 1 </span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; X<sub>C</sub> &lowast; C</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span>1</span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; ${XC}&Omega; &lowast; ${C}F</span>
                        </div> 
                    = ${f}Hz <br>`;
                }
            }
            
            document.getElementById('result_TP_RC').innerHTML = result_TP_RC;
        }

        function calculate_TP_RL() 
        {
            
            let result_TP_RL = ``;
            let prevResult_TP_RL = `1`;

            let phi = document.getElementById("Winkel-TP_RL").value;
            let R = document.getElementById("R-TP_RL").value;
            let XL = document.getElementById("XL-TP_RL").value;
            let Z = document.getElementById("Z-TP_RL").value;
            let a = document.getElementById("a-TP_RL").value;
            let L = document.getElementById("L-TP_RL").value;
            let Uin = document.getElementById("Uin-TP_RL").value;
            let Ul = document.getElementById("Ul-TP_RL").value;
            let Uout = document.getElementById("Uout-TP_RL").value;
            let fg = document.getElementById("fg-TP_RL").value;
            let f = document.getElementById("f-TP_RL").value;

             debugger;
            while(result_TP_RL != prevResult_TP_RL)
            {
                prevResult_TP_RL = result_TP_RL;

                // === Winkel phi ===
                // ToDo

                // === Widerstand R ===
                if(!R && fg && L)
                {
                    R = formatPrefixNoUnit(2 * Math.PI * parseInput(fg) * parseInput(L));
                    result_TP_RL += `
                        Widerstand R = 
                        2&pi; &lowast; f<sub>g</sub> &lowast; L
                    =
                        2&pi; &lowast; ${fg}Hz &lowast; ${L}H
                    = ${R}&Omega;<br>`;
                }

                if(!R && Z && XC)
                {
                    R = formatPrefixNoUnit(Math.pow(Math.pow(parseInput(Z), 2) - Math.pow(parseInput(XC), 2), 0.5));
                    result_TP_RL += `
                        Widerstand R =
                        &radic; Z<sup>2</sup> - X<sub>C</sub><sup>2</sup>
                    =
                        &radic; (${Z}&Omega;)<sup>2</sup> - (${XC}&Omega;)<sup>2</sup>
                    = ${R}&Omega;<br>`;
                }

                // === Blindwiderstand XL ===
                if(!XL && f && L)
                {
                    XL = formatPrefixNoUnit(2 * Math.PI * parseInput(f) * parseInput(L));
                    result_TP_RL += `
                        Blindwiderstand X<sub>L</sub> = 
                        2&pi; &lowast; f &lowast; L
                    =
                        2&pi; &lowast; ${f}Hz &lowast; ${L}H
                    = ${XL}&Omega;<br>`;
                }

                if(!XL && Z && R)
                {
                    XL = formatPrefixNoUnit(Math.pow(Math.pow(parseInput(Z), 2) - Math.pow(parseInput(R), 2), 0.5));
                    result_TP_RL += `
                        Blindwiderstand X<sub>L</sub> =
                        &radic; Z<sup>2</sup> - R<sup>2</sup>
                    =
                        &radic; (${Z}&Omega;)<sup>2</sup> - (${R}&Omega;)<sup>2</sup>
                    = ${XL}&Omega;<br>`;
                }

                // === Impedanz Z ===
                if(!Z && R && XL)
                {
                    debugger;
                    Z = formatPrefixNoUnit(Math.pow(Math.pow(parseInput(R), 2) + Math.pow(parseInput(XL), 2), 0.5));
                    result_TP_RL += `
                        Gesamtimpedanz Z =
                        &radic; R<sup>2</sup> + X<sub>L</sub><sup>2</sup>
                    =
                        &radic; (${R}&Omega;)<sup>2</sup> + (${XL}&Omega;)<sup>2</sup>
                    = ${Z}&Omega;<br>`;
                }

                // === Daempfungsmass a ===
                if(!a && Z && R)
                {
                    a = formatPrefixNoUnit(20 * getlg(parseInput(Z) / parseInput(R)));
                    result_TP_RL += `
                        D&auml;mpfungsmass a = 
                        20 &lowast; log<sub>10</sub> ( <div class ="fraction">
                            <span class="fraction-numerator"> Z </span><br>
                            <span>R</span> 
                        </div> )
                    =   20 &lowast; log<sub>10</sub>
                        ( <div class ="fraction"> 
                            <span class="fraction-numerator"> ${Z}&Omega; </span><br>
                            <span>${R}&Omega;</span>   
                        </div> )
                    = ${a}dB <br>`;
                }

                if(!a && Uin && Uout)
                {
                    a = formatPrefixNoUnit(20 * getlg(parseInput(Uin) / parseInput(Uout)));
                    result_TP_RL += `
                        D&auml;mpfungsmass a = 
                        20 &lowast; log<sub>10</sub> ( <div class ="fraction">
                            <span class="fraction-numerator"> U<sub>in</sub> </span><br>
                            <span>U<sub>out</sub></span> 
                        </div> )
                    =   20 &lowast; log<sub>10</sub>
                        ( <div class ="fraction"> 
                            <span class="fraction-numerator"> ${Uin}V </span><br>
                            <span>${Uout}V</span>   
                        </div> )
                    = ${a}dB <br>`;
                }

                // === Induktiviaet L ===
                if(!L && XL && f)
                {
                    L = formatPrefixNoUnit(parseInput(XL)/(2 * Math.PI * parseInput(f)));
                    result_TP_RL += `
                        Induktivit&auml;t L = 
                        <div class ="fraction">
                            <span> X<sub>L</sub> </span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; f</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span>${XL}&Omega;</span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; ${f}Hz</span>
                        </div> 
                    = ${L}H<br>`;
                }

                if(!L && fg && R)
                {
                    L = formatPrefixNoUnit(parseInput(R)/(2 * Math.PI * parseInput(fg)));
                    result_TP_RL += `
                        Induktivit&auml;t L = 
                        <div class ="fraction">
                            <span> R </span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; f<sub>g</sub></span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span>${R}&Omega;</span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; ${fg}Hz</span>
                        </div> 
                    = ${L}H<br>`;
                }

                // === Spannung Uin ===
                if(!Uin && Uout && R && Z)
                {
                    Uin = formatPrefixNoUnit(parseInput(Uout) * parseInput(Z) / parseInput(R));
                    result_TP_RL += `
                        Spannung U<sub>in</sub> = 
                        <div class ="fraction">
                            <span class="fraction-numerator">U<sub>out</sub> &lowast; Z</span><br>
                            <span>R</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span class="fraction-numerator">${Uin}V &lowast; ${Z}&Omega;</span><br>
                            <span>${R}&Omega;</span>
                        </div> 
                    = ${Uin}V<br>`;
                }

                if(!Uin && Ul && Uout)
                {
                    Uin = formatPrefixNoUnit(Math.pow(Math.pow(parseInput(Ul), 2) + Math.pow(parseInput(Uout), 2), 0.5));
                    result_TP_RL += `
                        Spannung U<sub>in</sub> =
                        &radic; U<sub>L</sub><sup>2</sup> + U<sub>out</sub><sup>2</sup>
                    =
                        &radic; (${Ul}V)<sup>2</sup> + (${Uout}V)<sup>2</sup>
                    = ${Uin}V<br>`;
                }

                // === Spannung Ul ===
                if(!Ul && Uin && R && Z)
                {
                    Ul = formatPrefixNoUnit(parseInput(Uin) * parseInput(XL) / parseInput(Z));
                    result_TP_RL += `
                        Spannung U<sub>R</sub> = 
                        <div class ="fraction">
                            <span class="fraction-numerator">U<sub>in</sub> &lowast; X<sub>L</sub></span><br>
                            <span>Z</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span class="fraction-numerator">${Uin}V &lowast; ${XL}&Omega;</span><br>
                            <span>${Z}&Omega;</span>
                        </div> 
                    = ${Ul}V<br>`;
                }

                if(!Ul && Uin && Uout)
                {
                    Ul = formatPrefixNoUnit(Math.pow(Math.pow(parseInput(Uin), 2) - Math.pow(parseInput(Uout), 2), 0.5));
                    result_TP_RL += `
                        Spannung U<sub>R</sub> =
                        &radic; U<sub>in</sub><sup>2</sup> - U<sub>out</sub><sup>2</sup>
                    =
                        &radic; (${Uin}V)<sup>2</sup> - (${Uout}V)<sup>2</sup>
                    = ${Ul}V<br>`;
                }

                // === Spannung Uout ===
                if(!Uout && Uin && XL && Z)
                {
                    Uout = formatPrefixNoUnit(parseInput(Uin) * parseInput(R)/ parseInput(Z));
                    result_TP_RL += `
                        Spannung U<sub>out</sub> = 
                        <div class ="fraction">
                            <span class="fraction-numerator">U<sub>in</sub> &lowast; R</span><br>
                            <span>Z</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span class="fraction-numerator">${Uin}V &lowast; ${R}&Omega;</span><br>
                            <span>${Z}&Omega;</span>
                        </div> 
                    = ${Uout}V<br>`;
                }

                if(!Uout && Uin && Ul)
                {
                    Uout = formatPrefixNoUnit(Math.pow(Math.pow(parseInput(Uin), 2) - Math.pow(parseInput(Ul), 2), 0.5));
                    result_TP_RC += `
                        Spannung U<sub>out</sub> =
                        &radic; U<sub>in</sub><sup>2</sup> - U<sub>l</sub><sup>2</sup>
                    =
                        &radic; (${Uin}V)<sup>2</sup> - (${Ul}V)<sup>2</sup>
                    = ${Uout}V<br>`;
                }

                // === Grenzfrequnez fg ===
                if(!fg && R && L)
                {
                    fg = formatPrefixNoUnit(parseInput(R)/(2 * Math.PI * parseInput(L)));
                    result_TP_RL += `
                        Grenzfrequnez f<sub>g</sub> = 
                        <div class ="fraction">
                            <span> R </span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; L</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span>${R}&Omega;</span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; ${L}H</span>
                        </div> 
                    = ${fg}Hz<br>`;
                }

                // === Frequnez f ===
                if(!f && R && L)
                {
                    f = formatPrefixNoUnit(parseInput(R)/(2 * Math.PI * parseInput(L)));
                    result_TP_RL += `
                        Frequenz = 
                        <div class ="fraction">
                            <span> X<sub>L</sub> </span><br>
                            <span class="fraction-denumerator">2&pi; &lowast;L</span>
                        </div> 
                    =
                        <div class ="fraction">
                            <span>${XL}&Omega;</span><br>
                            <span class="fraction-denumerator">2&pi; &lowast; ${L}H</span>
                        </div> 
                    = ${f}Hz<br>`;
                }
            }
            
            document.getElementById('result_TP_RL').innerHTML = result_TP_RL;
        }

        function getlg(x)           // function for log base 10
        {
            return Math.log(x) / Math.log(10);
        }


        function resetInputs_HP_RC() {
            const container = document.getElementById("HP_RC");
            const inputs = container.querySelectorAll("input");
            
            inputs.forEach(input => input.value = "");

            // Optional: Nur das Ergebnis im 'result'-Div löschen, falls gewünscht
            document.getElementById("result_HP_RC").innerHTML = "";
        }

        function resetInputs_HP_RL() {
            const container = document.getElementById("HP_RL");
            const inputs = container.querySelectorAll("input");
            
            inputs.forEach(input => input.value = "");

            // Optional: Nur das Ergebnis im 'result'-Div löschen, falls gewünscht
            document.getElementById("result_HP_RL").innerHTML = "";
        }

        function resetInputs_TP_RC() {
            const container = document.getElementById("TP_RC");
            const inputs = container.querySelectorAll("input");
            
            inputs.forEach(input => input.value = "");

            // Optional: Nur das Ergebnis im 'result'-Div löschen, falls gewünscht
            document.getElementById("result_TP_RC").innerHTML = "";
        }

        function resetInputs_TP_RL() {
            const container = document.getElementById("TP_RL");
            const inputs = container.querySelectorAll("input");
            
            inputs.forEach(input => input.value = "");

            // Optional: Nur das Ergebnis im 'result'-Div löschen, falls gewünscht
            document.getElementById("result_TP_RL").innerHTML = "";
        }


        
    </script>
    <script src="../scripts.js"></script>
</body>
</html>
